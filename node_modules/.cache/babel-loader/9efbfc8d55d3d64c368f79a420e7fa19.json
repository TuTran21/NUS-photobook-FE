{"ast":null,"code":"var _jsxFileName = \"/home/nus/TuTran/projects/Web/training/photobook/FE/src/app/views/pages/TestDetails/components/LeaderboardTabs.js\";\nimport React, { useState, Suspense, useEffect } from 'react';\nimport { Tabs, Tab, Box, Typography, TextField } from '@material-ui/core';\nimport { useLazyQuery } from '@apollo/client';\nimport styled from 'styled-components';\nimport Theme from 'app/themes';\nimport RequireAuth from 'app/views/components/middleware/RequireAuth';\nimport LoadingIndicator from 'app/views/components/common/LoadingIndicator';\nimport TestQueries from 'graphql/queries/Test';\nimport { StarBorderOutlined } from '@material-ui/icons';\nconst ReadingLeaderBoard = React.lazy(() => import('app/views/pages/Test/Result/Leaderboard'));\nconst TabBar = styled.div`\n\tbackground-color: ${Theme.ncpWhiteHover};\n`;\nconst Wrapper = styled.div`\n\tmargin-top: 25px;\n`;\nconst TabContent = styled.div``;\nconst TitleBox = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tcolor: ${Theme.ncpPrimaryDark};\n\tmargin-bottom: 10px;\n`;\nconst Title = styled.h4`\n\tfont-size: 20px;\n\tfont-weight: 700;\n\tmargin-left: 15px;\n\tmargin-bottom: 0px;\n`;\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `leaderboard-tabpanel-${index}`,\n    \"aria-labelledby\": `leaderboard-tab-${index}`\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  }), value === index && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 24\n    }\n  }, children));\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `leaderboard-${index}`,\n    'aria-controls': `leaderboard-tabpanel-${index}`\n  };\n}\n\nfunction LeaderboardTabs(props) {\n  const {\n    testId\n  } = props;\n  const [ActiveTab, ChangeActiveTab] = useState(0);\n  const [getReadingLeaderboard, readingLeaderboardRes] = useLazyQuery(TestQueries.GET_READING_LEADERBOARD_BY_TEST_ID, {\n    variables: {\n      testId: testId,\n      limit: 10,\n      offset: 0,\n      orderBy: 'descending'\n    }\n  });\n  useEffect(() => {\n    getReadingLeaderboard();\n  }, []);\n\n  const handleChangeTab = (event, newValue) => {\n    if (newValue === 0) {\n      getReadingLeaderboard();\n    }\n\n    ChangeActiveTab(newValue);\n  };\n\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(TitleBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(StarBorderOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, \"Leaderboard\")), /*#__PURE__*/React.createElement(TabBar, {\n    className: \"card card-custom card-stretch gutter-b\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    value: ActiveTab,\n    onChange: handleChangeTab,\n    indicatorColor: \"primary\",\n    \"aria-label\": \"Profile tabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Tab, Object.assign({\n    label: \"Reading\"\n  }, a11yProps(0), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Tab, Object.assign({\n    label: \"Listening\"\n  }, a11yProps(1), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Tab, Object.assign({\n    label: \"Writing\"\n  }, a11yProps(2), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 6\n    }\n  })))), /*#__PURE__*/React.createElement(TabContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(TabPanel, {\n    value: ActiveTab,\n    index: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(LoadingIndicator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 26\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(ReadingLeaderBoard, {\n    hasMargin: false,\n    hasTitle: false,\n    leaderboardRes: readingLeaderboardRes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(TabPanel, {\n    value: ActiveTab,\n    index: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, \"Feature under development\"), /*#__PURE__*/React.createElement(TabPanel, {\n    value: ActiveTab,\n    index: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, \"Feature under development\")));\n}\n\nexport default LeaderboardTabs;","map":{"version":3,"sources":["/home/nus/TuTran/projects/Web/training/photobook/FE/src/app/views/pages/TestDetails/components/LeaderboardTabs.js"],"names":["React","useState","Suspense","useEffect","Tabs","Tab","Box","Typography","TextField","useLazyQuery","styled","Theme","RequireAuth","LoadingIndicator","TestQueries","StarBorderOutlined","ReadingLeaderBoard","lazy","TabBar","div","ncpWhiteHover","Wrapper","TabContent","TitleBox","ncpPrimaryDark","Title","h4","TabPanel","props","children","value","index","other","a11yProps","id","LeaderboardTabs","testId","ActiveTab","ChangeActiveTab","getReadingLeaderboard","readingLeaderboardRes","GET_READING_LEADERBOARD_BY_TEST_ID","variables","limit","offset","orderBy","handleChangeTab","event","newValue"],"mappings":"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","sourcesContent":["import React, { useState, Suspense, useEffect } from 'react';\nimport { Tabs, Tab, Box, Typography, TextField } from '@material-ui/core';\nimport { useLazyQuery } from '@apollo/client';\nimport styled from 'styled-components';\nimport Theme from 'app/themes';\nimport RequireAuth from 'app/views/components/middleware/RequireAuth';\nimport LoadingIndicator from 'app/views/components/common/LoadingIndicator';\nimport TestQueries from 'graphql/queries/Test';\nimport { StarBorderOutlined } from '@material-ui/icons';\n\nconst ReadingLeaderBoard = React.lazy(() => import('app/views/pages/Test/Result/Leaderboard'));\nconst TabBar = styled.div`\n\tbackground-color: ${Theme.ncpWhiteHover};\n`;\n\nconst Wrapper = styled.div`\n\tmargin-top: 25px;\n`;\n\nconst TabContent = styled.div``;\n\nconst TitleBox = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tcolor: ${Theme.ncpPrimaryDark};\n\tmargin-bottom: 10px;\n`;\n\nconst Title = styled.h4`\n\tfont-size: 20px;\n\tfont-weight: 700;\n\tmargin-left: 15px;\n\tmargin-bottom: 0px;\n`;\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`leaderboard-tabpanel-${index}`}\n\t\t\taria-labelledby={`leaderboard-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && <React.Fragment>{children}</React.Fragment>}\n\t\t</div>\n\t);\n}\n\nfunction a11yProps(index) {\n\treturn {\n\t\tid: `leaderboard-${index}`,\n\t\t'aria-controls': `leaderboard-tabpanel-${index}`,\n\t};\n}\n\nfunction LeaderboardTabs(props) {\n\tconst { testId } = props;\n\tconst [ActiveTab, ChangeActiveTab] = useState(0);\n\n\tconst [getReadingLeaderboard, readingLeaderboardRes] = useLazyQuery(\n\t\tTestQueries.GET_READING_LEADERBOARD_BY_TEST_ID,\n\t\t{\n\t\t\tvariables: {\n\t\t\t\ttestId: testId,\n\t\t\t\tlimit: 10,\n\t\t\t\toffset: 0,\n\t\t\t\torderBy: 'descending',\n\t\t\t},\n\t\t},\n\t);\n\n\tuseEffect(() => {\n\t\tgetReadingLeaderboard();\n\t}, []);\n\n\tconst handleChangeTab = (event, newValue) => {\n\t\tif (newValue === 0) {\n\t\t\tgetReadingLeaderboard();\n\t\t}\n\t\tChangeActiveTab(newValue);\n\t};\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<TitleBox>\n\t\t\t\t<StarBorderOutlined></StarBorderOutlined>\n\t\t\t\t<Title>Leaderboard</Title>\n\t\t\t</TitleBox>\n\t\t\t<TabBar className=\"card card-custom card-stretch gutter-b\">\n\t\t\t\t<Tabs value={ActiveTab} onChange={handleChangeTab} indicatorColor=\"primary\" aria-label=\"Profile tabs\">\n\t\t\t\t\t<Tab label=\"Reading\" {...a11yProps(0)} />\n\t\t\t\t\t<Tab label=\"Listening\" {...a11yProps(1)} />\n\t\t\t\t\t<Tab label=\"Writing\" {...a11yProps(2)} />\n\t\t\t\t</Tabs>\n\t\t\t</TabBar>\n\t\t\t<TabContent>\n\t\t\t\t<TabPanel value={ActiveTab} index={0}>\n\t\t\t\t\t<Suspense fallback={<LoadingIndicator></LoadingIndicator>}>\n\t\t\t\t\t\t<ReadingLeaderBoard\n\t\t\t\t\t\t\thasMargin={false}\n\t\t\t\t\t\t\thasTitle={false}\n\t\t\t\t\t\t\tleaderboardRes={readingLeaderboardRes}\n\t\t\t\t\t\t></ReadingLeaderBoard>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</TabPanel>\n\t\t\t\t<TabPanel value={ActiveTab} index={1}>\n\t\t\t\t\tFeature under development\n\t\t\t\t</TabPanel>\n\t\t\t\t<TabPanel value={ActiveTab} index={2}>\n\t\t\t\t\tFeature under development\n\t\t\t\t</TabPanel>\n\t\t\t</TabContent>\n\t\t</Wrapper>\n\t);\n}\n\nexport default LeaderboardTabs;\n"]},"metadata":{},"sourceType":"module"}