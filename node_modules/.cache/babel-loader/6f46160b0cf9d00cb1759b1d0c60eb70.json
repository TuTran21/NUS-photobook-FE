{"ast":null,"code":"import constants from './types';\nimport produce from 'immer';\nconst authState = {\n  accessToken: '',\n  refreshToken: '',\n  authenticated: false,\n  activeUser: {}\n};\n\nconst authReducer = (state = authState, action) => produce(state, newState => {\n  switch (action.type) {\n    case constants.LOG_IN:\n      newState.activeTest = action.payload;\n      break;\n\n    case constants.LOG_IN_SUCCESS:\n      newState.accessToken = action.payload.accessToken;\n      newState.activeUser = {\n        username: action.payload.activeUser.username,\n        firstName: action.payload.activeUser.firstName,\n        avatar: action.payload.activeUser.avatar,\n        lastName: action.payload.activeUser.lastName\n      };\n      newState.authenticated = true;\n      break;\n\n    case constants.LOG_OUT:\n      newState.accessToken = '';\n      newState.activeUser = {};\n      newState.authenticated = false;\n      break;\n\n    default:\n      return state;\n  }\n});\n\nexport default authReducer;","map":{"version":3,"sources":["/home/nus/TuTran/projects/Web/training/photobook/FE/src/state/ducks/auth/index.js"],"names":["constants","produce","authState","accessToken","refreshToken","authenticated","activeUser","authReducer","state","action","newState","type","LOG_IN","activeTest","payload","LOG_IN_SUCCESS","username","firstName","avatar","lastName","LOG_OUT"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,SAAtB;AACA,OAAOC,OAAP,MAAoB,OAApB;AAEA,MAAMC,SAAS,GAAG;AACjBC,EAAAA,WAAW,EAAE,EADI;AAEjBC,EAAAA,YAAY,EAAE,EAFG;AAGjBC,EAAAA,aAAa,EAAE,KAHE;AAIjBC,EAAAA,UAAU,EAAE;AAJK,CAAlB;;AAOA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGN,SAAT,EAAoBO,MAApB,KACnBR,OAAO,CAACO,KAAD,EAAQE,QAAQ,IAAI;AAC1B,UAAQD,MAAM,CAACE,IAAf;AACC,SAAKX,SAAS,CAACY,MAAf;AACCF,MAAAA,QAAQ,CAACG,UAAT,GAAsBJ,MAAM,CAACK,OAA7B;AACA;;AACD,SAAKd,SAAS,CAACe,cAAf;AACCL,MAAAA,QAAQ,CAACP,WAAT,GAAuBM,MAAM,CAACK,OAAP,CAAeX,WAAtC;AACAO,MAAAA,QAAQ,CAACJ,UAAT,GAAsB;AACrBU,QAAAA,QAAQ,EAAEP,MAAM,CAACK,OAAP,CAAeR,UAAf,CAA0BU,QADf;AAErBC,QAAAA,SAAS,EAAER,MAAM,CAACK,OAAP,CAAeR,UAAf,CAA0BW,SAFhB;AAGrBC,QAAAA,MAAM,EAAET,MAAM,CAACK,OAAP,CAAeR,UAAf,CAA0BY,MAHb;AAIrBC,QAAAA,QAAQ,EAAEV,MAAM,CAACK,OAAP,CAAeR,UAAf,CAA0Ba;AAJf,OAAtB;AAMAT,MAAAA,QAAQ,CAACL,aAAT,GAAyB,IAAzB;AACA;;AACD,SAAKL,SAAS,CAACoB,OAAf;AACCV,MAAAA,QAAQ,CAACP,WAAT,GAAuB,EAAvB;AACAO,MAAAA,QAAQ,CAACJ,UAAT,GAAsB,EAAtB;AACAI,MAAAA,QAAQ,CAACL,aAAT,GAAyB,KAAzB;AACA;;AAED;AACC,aAAOG,KAAP;AArBF;AAuBA,CAxBM,CADR;;AA2BA,eAAeD,WAAf","sourcesContent":["import constants from './types';\nimport produce from 'immer';\n\nconst authState = {\n\taccessToken: '',\n\trefreshToken: '',\n\tauthenticated: false,\n\tactiveUser: {},\n};\n\nconst authReducer = (state = authState, action) =>\n\tproduce(state, newState => {\n\t\tswitch (action.type) {\n\t\t\tcase constants.LOG_IN:\n\t\t\t\tnewState.activeTest = action.payload;\n\t\t\t\tbreak;\n\t\t\tcase constants.LOG_IN_SUCCESS:\n\t\t\t\tnewState.accessToken = action.payload.accessToken;\n\t\t\t\tnewState.activeUser = {\n\t\t\t\t\tusername: action.payload.activeUser.username,\n\t\t\t\t\tfirstName: action.payload.activeUser.firstName,\n\t\t\t\t\tavatar: action.payload.activeUser.avatar,\n\t\t\t\t\tlastName: action.payload.activeUser.lastName,\n\t\t\t\t};\n\t\t\t\tnewState.authenticated = true;\n\t\t\t\tbreak;\n\t\t\tcase constants.LOG_OUT:\n\t\t\t\tnewState.accessToken = '';\n\t\t\t\tnewState.activeUser = {};\n\t\t\t\tnewState.authenticated = false;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t});\n\nexport default authReducer;\n"]},"metadata":{},"sourceType":"module"}