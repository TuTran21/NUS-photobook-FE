{"ast":null,"code":"var _jsxFileName = \"/home/nus/TuTran/projects/Web/training/photobook/FE/src/app/views/components/layout/SearchDropdown.js\";\nimport React from 'react';\nimport clsx from 'clsx';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport SearchResult from './SearchResult';\nimport { toAbsoluteUrl } from '../../../themes/_metronic';\nimport { useLazyQuery } from '@apollo/client';\nimport TestQueries from 'graphql/queries/Test';\nimport { Typography } from '@material-ui/core';\nconst perfectScrollbarOptions = {\n  wheelSpeed: 2,\n  wheelPropagation: false\n};\nconst fakeData = [{\n  type: 0,\n  text: 'Reports'\n}, {\n  type: 1,\n  text: 'AirPlus Requirements',\n  description: 'by Grog John',\n  iconImage: toAbsoluteUrl('/media/files/doc.svg')\n}, {\n  type: 1,\n  text: 'TechNav Documentation',\n  description: 'by Mary Brown',\n  iconImage: toAbsoluteUrl('/media/files/pdf.svg')\n}, {\n  type: 1,\n  text: 'All Framework Docs',\n  description: 'by Grog John',\n  iconImage: toAbsoluteUrl('/media/files/zip.svg')\n}, {\n  type: 1,\n  text: 'AirPlus Requirements',\n  description: 'by Tim Hardy',\n  iconImage: toAbsoluteUrl('/media/files/xml.svg')\n}, {\n  text: 'Customers',\n  type: 0\n}, {\n  type: 1,\n  text: 'Jimmy Curry',\n  description: 'Software Developer',\n  iconImage: toAbsoluteUrl('/media/users/300_11.jpg')\n}, {\n  type: 1,\n  text: 'Milena Gibson',\n  description: 'UI Designer',\n  iconImage: toAbsoluteUrl('/media/users/300_16.jpg')\n}, {\n  type: 1,\n  text: 'Stefan JohnStefan',\n  description: 'Marketing Manager',\n  iconImage: toAbsoluteUrl('/media/users/300_22.jpg')\n}, {\n  type: 1,\n  text: 'Anna Strong',\n  description: 'Software Developer',\n  iconImage: toAbsoluteUrl('/media/users/300_5.jpg')\n}, {\n  type: 0,\n  text: 'Files'\n}, {\n  type: 1,\n  text: '2 New items submitted',\n  description: 'Marketing Manager',\n  iconClassName: 'flaticon2-box kt-font-danger'\n}, {\n  type: 1,\n  text: '79 PSD files generated',\n  description: 'by Grog John',\n  iconClassName: 'flaticon-psd kt-font-brand'\n}, {\n  type: 1,\n  text: '$2900 worth products sold',\n  description: 'Total 234 items',\n  iconClassName: 'flaticon2-supermarket kt-font-warning'\n}, {\n  type: 1,\n  text: '4 New items submitted',\n  description: 'Marketing Manager',\n  iconClassName: 'flaticon-safe-shield-protection kt-font-info'\n}];\n\nconst RenderFetchData = props => {\n  const [getTests, getTestsRes] = useLazyQuery(TestQueries.GET_TESTS, {\n    pollInterval: 10000,\n    variables: {\n      offset: 0,\n      limit: 5\n    }\n  });\n  const data = getTestsRes.data;\n\n  if (!data || data.length === 0) {\n    return /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 10\n      }\n    }, \"No data found\");\n  }\n\n  return /*#__PURE__*/React.createElement(SearchResult, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default class SearchDropdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n      loading: false,\n      data: null,\n      searchValue: ''\n    };\n\n    this.handleSearchChange = event => {\n      this.setState({\n        data: null,\n        searchValue: event.target.value\n      });\n\n      if (event.target.value.length > 2) {\n        this.clearTimeout();\n        this.setState({\n          loading: true\n        });\n        this.setState({\n          isOpen: true\n        }); // simulate getting search result\n\n        this.timeoutId = setTimeout(() => {\n          this.setState({\n            data: fakeData,\n            loading: false\n          });\n        }, 500);\n        return;\n      }\n\n      this.setState({\n        isOpen: false\n      });\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.clear = () => {\n      this.setState({\n        data: null,\n        searchValue: '',\n        isOpen: false\n      });\n    };\n\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n  /**\n   * Set the wrapper ref\n   */\n\n\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n  /**\n   * Alert if clicked on outside of element\n   */\n\n\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({\n        isOpen: false\n      });\n    }\n  }\n\n  clearTimeout() {\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = undefined;\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearTimeout();\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  render() {\n    const {\n      data,\n      loading,\n      searchValue,\n      isOpen\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"kt_quick_search_inline\",\n      className: clsx('kt-quick-search kt-quick-search--inline kt-quick-search--result-compact', {\n        'kt-quick-search--has-result': data && data.length\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"kt-quick-search__form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: clsx('input-group', {\n        'kt-spinner kt-spinner--input kt-spinner--sm kt-spinner--brand kt-spinner--right': loading\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"flaticon2-search-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      autoFocus: true,\n      placeholder: \"Search...\",\n      value: searchValue,\n      onChange: this.handleSearchChange,\n      className: \"form-control kt-quick-search__input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      style: {\n        display: 'flex'\n      },\n      onClick: this.clear,\n      hidden: !data || data && !data.length,\n      className: \"la la-close kt-quick-search__close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown\",\n      ref: this.setWrapperRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"kt_quick_search_toggle\",\n      \"data-toggle\": \"dropdown\",\n      \"data-offset\": \"0px,10px\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: `dropdown-menu dropdown-menu-fit dropdown-menu-anim dropdown-menu-lg ${clsx({\n        show: isOpen\n      })}`,\n      style: {\n        right: '0',\n        left: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(PerfectScrollbar, {\n      className: \"kt-quick-search__wrapper kt-scroll\",\n      \"data-height\": \"325\",\n      \"data-mobile-height\": \"200\",\n      \"data-scroll\": \"true\",\n      options: perfectScrollbarOptions,\n      style: {\n        maxHeight: '40vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(RenderFetchData, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 8\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/home/nus/TuTran/projects/Web/training/photobook/FE/src/app/views/components/layout/SearchDropdown.js"],"names":["React","clsx","PerfectScrollbar","SearchResult","toAbsoluteUrl","useLazyQuery","TestQueries","Typography","perfectScrollbarOptions","wheelSpeed","wheelPropagation","fakeData","type","text","description","iconImage","iconClassName","RenderFetchData","props","getTests","getTestsRes","GET_TESTS","pollInterval","variables","offset","limit","data","length","SearchDropdown","Component","constructor","state","isOpen","loading","searchValue","handleSearchChange","event","setState","target","value","clearTimeout","timeoutId","setTimeout","clear","setWrapperRef","bind","handleClickOutside","componentDidMount","document","addEventListener","node","wrapperRef","contains","undefined","componentWillUnmount","removeEventListener","render","display","show","right","left","maxHeight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport SearchResult from './SearchResult';\nimport { toAbsoluteUrl } from '../../../themes/_metronic';\nimport { useLazyQuery } from '@apollo/client';\nimport TestQueries from 'graphql/queries/Test';\nimport { Typography } from '@material-ui/core';\n\nconst perfectScrollbarOptions = {\n\twheelSpeed: 2,\n\twheelPropagation: false,\n};\n\nconst fakeData = [\n\t{\n\t\ttype: 0,\n\t\ttext: 'Reports',\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: 'AirPlus Requirements',\n\t\tdescription: 'by Grog John',\n\t\ticonImage: toAbsoluteUrl('/media/files/doc.svg'),\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: 'TechNav Documentation',\n\t\tdescription: 'by Mary Brown',\n\t\ticonImage: toAbsoluteUrl('/media/files/pdf.svg'),\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: 'All Framework Docs',\n\t\tdescription: 'by Grog John',\n\t\ticonImage: toAbsoluteUrl('/media/files/zip.svg'),\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: 'AirPlus Requirements',\n\t\tdescription: 'by Tim Hardy',\n\t\ticonImage: toAbsoluteUrl('/media/files/xml.svg'),\n\t},\n\t{\n\t\ttext: 'Customers',\n\t\ttype: 0,\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: 'Jimmy Curry',\n\t\tdescription: 'Software Developer',\n\t\ticonImage: toAbsoluteUrl('/media/users/300_11.jpg'),\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: 'Milena Gibson',\n\t\tdescription: 'UI Designer',\n\t\ticonImage: toAbsoluteUrl('/media/users/300_16.jpg'),\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: 'Stefan JohnStefan',\n\t\tdescription: 'Marketing Manager',\n\t\ticonImage: toAbsoluteUrl('/media/users/300_22.jpg'),\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: 'Anna Strong',\n\t\tdescription: 'Software Developer',\n\t\ticonImage: toAbsoluteUrl('/media/users/300_5.jpg'),\n\t},\n\t{\n\t\ttype: 0,\n\t\ttext: 'Files',\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: '2 New items submitted',\n\t\tdescription: 'Marketing Manager',\n\t\ticonClassName: 'flaticon2-box kt-font-danger',\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: '79 PSD files generated',\n\t\tdescription: 'by Grog John',\n\t\ticonClassName: 'flaticon-psd kt-font-brand',\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: '$2900 worth products sold',\n\t\tdescription: 'Total 234 items',\n\t\ticonClassName: 'flaticon2-supermarket kt-font-warning',\n\t},\n\t{\n\t\ttype: 1,\n\t\ttext: '4 New items submitted',\n\t\tdescription: 'Marketing Manager',\n\t\ticonClassName: 'flaticon-safe-shield-protection kt-font-info',\n\t},\n];\n\nconst RenderFetchData = props => {\n\tconst [getTests, getTestsRes] = useLazyQuery(TestQueries.GET_TESTS, {\n\t\tpollInterval: 10000,\n\t\tvariables: { offset: 0, limit: 5 },\n\t});\n\n\tconst data = getTestsRes.data;\n\n\tif (!data || data.length === 0) {\n\t\treturn <Typography variant=\"body1\">No data found</Typography>;\n\t}\n\n\treturn <SearchResult data={data} />;\n};\n\nexport default class SearchDropdown extends React.Component {\n\tstate = { isOpen: false, loading: false, data: null, searchValue: '' };\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.setWrapperRef = this.setWrapperRef.bind(this);\n\t\tthis.handleClickOutside = this.handleClickOutside.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener('mousedown', this.handleClickOutside);\n\t}\n\n\t/**\n\t * Set the wrapper ref\n\t */\n\tsetWrapperRef(node) {\n\t\tthis.wrapperRef = node;\n\t}\n\n\t/**\n\t * Alert if clicked on outside of element\n\t */\n\thandleClickOutside(event) {\n\t\tif (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n\t\t\tthis.setState({ isOpen: false });\n\t\t}\n\t}\n\n\tclearTimeout() {\n\t\tif (this.timeoutId) {\n\t\t\tclearTimeout(this.timeoutId);\n\t\t\tthis.timeoutId = undefined;\n\t\t}\n\t}\n\n\thandleSearchChange = event => {\n\t\tthis.setState({ data: null, searchValue: event.target.value });\n\n\t\tif (event.target.value.length > 2) {\n\t\t\tthis.clearTimeout();\n\n\t\t\tthis.setState({ loading: true });\n\t\t\tthis.setState({ isOpen: true });\n\n\t\t\t// simulate getting search result\n\t\t\tthis.timeoutId = setTimeout(() => {\n\t\t\t\tthis.setState({ data: fakeData, loading: false });\n\t\t\t}, 500);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({ isOpen: false });\n\t\tthis.setState({ loading: false });\n\t};\n\n\tclear = () => {\n\t\tthis.setState({ data: null, searchValue: '', isOpen: false });\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis.clearTimeout();\n\t\tdocument.removeEventListener('mousedown', this.handleClickOutside);\n\t}\n\n\trender() {\n\t\tconst { data, loading, searchValue, isOpen } = this.state;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid=\"kt_quick_search_inline\"\n\t\t\t\tclassName={clsx('kt-quick-search kt-quick-search--inline kt-quick-search--result-compact', {\n\t\t\t\t\t'kt-quick-search--has-result': data && data.length,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<form className=\"kt-quick-search__form\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={clsx('input-group', {\n\t\t\t\t\t\t\t'kt-spinner kt-spinner--input kt-spinner--sm kt-spinner--brand kt-spinner--right': loading,\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"input-group-prepend\">\n\t\t\t\t\t\t\t<span className=\"input-group-text\">\n\t\t\t\t\t\t\t\t<i className=\"flaticon2-search-1\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t\tplaceholder=\"Search...\"\n\t\t\t\t\t\t\tvalue={searchValue}\n\t\t\t\t\t\t\tonChange={this.handleSearchChange}\n\t\t\t\t\t\t\tclassName=\"form-control kt-quick-search__input\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t\t<span className=\"input-group-text\">\n\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\n\t\t\t\t\t\t\t\t\tonClick={this.clear}\n\t\t\t\t\t\t\t\t\thidden={!data || (data && !data.length)}\n\t\t\t\t\t\t\t\t\tclassName=\"la la-close kt-quick-search__close\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<div className=\"dropdown\" ref={this.setWrapperRef}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"kt_quick_search_toggle\"\n\t\t\t\t\t\tdata-toggle=\"dropdown\"\n\t\t\t\t\t\tdata-offset=\"0px,10px\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`dropdown-menu dropdown-menu-fit dropdown-menu-anim dropdown-menu-lg ${clsx({\n\t\t\t\t\t\t\tshow: isOpen,\n\t\t\t\t\t\t})}`}\n\t\t\t\t\t\tstyle={{ right: '0', left: 'auto' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<PerfectScrollbar\n\t\t\t\t\t\t\tclassName=\"kt-quick-search__wrapper kt-scroll\"\n\t\t\t\t\t\t\tdata-height=\"325\"\n\t\t\t\t\t\t\tdata-mobile-height=\"200\"\n\t\t\t\t\t\t\tdata-scroll=\"true\"\n\t\t\t\t\t\t\toptions={perfectScrollbarOptions}\n\t\t\t\t\t\t\tstyle={{ maxHeight: '40vh' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RenderFetchData></RenderFetchData>\n\t\t\t\t\t\t</PerfectScrollbar>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}