{"ast":null,"code":"var _jsxFileName = \"/home/nus/TuTran/projects/Web/training/photobook/FE/src/app/views/components/modals/EditUserModal.js\";\nimport React, { useState } from 'react';\nimport { Modal, Slide, IconButton, Button, TextField, Select, MenuItem, InputLabel } from '@material-ui/core';\nimport styled, { css } from 'styled-components';\nimport CloseIcon from '@material-ui/icons/Close';\nimport clsx from 'clsx';\nimport { Formik } from 'formik';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { withSnackbar } from 'notistack';\nimport PropTypes from 'prop-types';\nimport UserMutations from 'graphql/mutations/User/';\nimport { useMutation } from '@apollo/client';\nimport { getMessage } from 'utils/messageConvert';\nconst ModalWrapper = styled.div``;\nconst ModalSlide = styled(Slide)`\n\tmargin-left: auto;\n\theight: 100%;\n\tmin-width: 330px;\n\tmax-width: 600px;\n\tbackground-color: white;\n`;\nconst CloseButton = styled(IconButton)`\n\tposition: absolute !important;\n\ttop: 5px;\n\tright: 10px;\n`;\nconst Title = styled.h5`\n\tpadding-left: 50px;\n\tpadding-top: 50px;\n`;\nconst ModalHeader = styled.div`\n\tpadding: 0 !important;\n\tmin-height: 50px;\n\tborder: none !important;\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n`;\nconst ModalBody = styled.div`\n\tpadding: 0 50px;\n\tpadding-top: 10px;\n`;\nconst FormActions = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tmargin-top: 10px;\n`;\nconst SubmitButton = styled.button`\n\t${props => props.isLoading === 'true' && css`\n\t\t\tpadding-right: 2.5rem;\n\t\t`};\n`;\n\nfunction EditUserModal(props) {\n  const {\n    open,\n    onClose,\n    intl,\n    userData,\n    updateUser,\n    updateUserRes\n  } = props;\n  let title, submitButtonText;\n\n  if (!userData) {\n    onClose();\n  }\n\n  title = 'Edit user';\n  submitButtonText = 'Submit';\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    \"aria-labelledby\": \"simple-modal-title\",\n    \"aria-describedby\": \"simple-modal-description\",\n    style: {\n      outline: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(ModalSlide, {\n    direction: \"left\",\n    in: open,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ModalWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, title), /*#__PURE__*/React.createElement(CloseButton, {\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 8\n    }\n  }))), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: userData,\n    validate: values => {\n      const errors = {};\n\n      if (!values.email) {\n        // https://github.com/formatjs/react-intl/blob/master/docs/API.md#injection-api\n        errors.email = intl.formatMessage({\n          id: 'AUTH.VALIDATION.REQUIRED_FIELD'\n        });\n      } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n        errors.email = intl.formatMessage({\n          id: 'AUTH.VALIDATION.INVALID_FIELD'\n        });\n      }\n\n      if (!values.username) {\n        errors.username = intl.formatMessage({\n          id: 'AUTH.VALIDATION.REQUIRED_FIELD'\n        });\n      }\n\n      if (!values.lastName) {\n        errors.lastName = intl.formatMessage({\n          id: 'AUTH.VALIDATION.REQUIRED_FIELD'\n        });\n      }\n\n      if (!values.firstName) {\n        errors.firstName = intl.formatMessage({\n          id: 'AUTH.VALIDATION.REQUIRED_FIELD'\n        });\n      }\n\n      return errors;\n    },\n    onSubmit: (values, {\n      setStatus,\n      setSubmitting\n    }) => {\n      const user = {\n        id: values.id,\n        email: values.email,\n        username: values.username,\n        firstName: values.firstName,\n        lastName: values.lastName,\n        isVerified: values.isVerified,\n        userType: values.userType\n      };\n      updateUser({\n        variables: {\n          user: user\n        }\n      });\n      return;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, ({\n    values,\n    status,\n    errors,\n    touched,\n    handleChange,\n    handleBlur,\n    handleSubmit\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    noValidate: true,\n    autoComplete: \"off\",\n    className: \"kt-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"email\",\n    label: \"Email\",\n    margin: \"normal\",\n    className: \"kt-width-full\",\n    name: \"email\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.email,\n    helperText: touched.email && errors.email,\n    error: Boolean(touched.email && errors.email),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"text\",\n    label: \"Username\",\n    margin: \"normal\",\n    className: \"kt-width-full\",\n    name: \"username\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.username,\n    helperText: touched.username && errors.username,\n    error: Boolean(touched.username && errors.username),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"text\",\n    margin: \"normal\",\n    label: \"First name\",\n    className: \"kt-width-full\",\n    name: \"firstName\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.firstName,\n    helperText: touched.firstName && errors.firstName,\n    error: Boolean(touched.firstName && errors.firstName),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"text\",\n    margin: \"normal\",\n    label: \"Last name\",\n    className: \"kt-width-full\",\n    name: \"lastName\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.lastName,\n    helperText: touched.lastName && errors.lastName,\n    error: Boolean(touched.lastName && errors.lastName),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Verified\",\n    name: \"isVerified\",\n    value: values.isVerified,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    select: true,\n    style: {\n      width: '47%'\n    },\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 12\n    }\n  }, \"FALSE\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 12\n    }\n  }, \"TRUE\")), /*#__PURE__*/React.createElement(TextField, {\n    label: \"Role\",\n    name: \"userType\",\n    value: values.userType,\n    style: {\n      width: '47%'\n    },\n    onChange: handleChange,\n    onBlur: handleBlur,\n    select: true,\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"USER\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 12\n    }\n  }, \"User\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"ADMIN\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 12\n    }\n  }, \"Admin\"))), /*#__PURE__*/React.createElement(FormActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(SubmitButton, {\n    id: \"kt_update_user_submit\",\n    type: \"submit\",\n    disabled: updateUserRes.loading,\n    isLoading: updateUserRes.loading.toString(),\n    className: `btn btn-primary mt-3 btn-elevate kt-login__btn-primary ${clsx({\n      'kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light': updateUserRes.loading\n    })}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, submitButtonText))))))));\n}\n\nEditUserModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  // Favorite: PropTypes.function.isRequired,\n  onClose: PropTypes.func.isRequired,\n  intl: PropTypes.object.isRequired\n};\nexport default injectIntl(withSnackbar(EditUserModal));","map":{"version":3,"sources":["/home/nus/TuTran/projects/Web/training/photobook/FE/src/app/views/components/modals/EditUserModal.js"],"names":["React","useState","Modal","Slide","IconButton","Button","TextField","Select","MenuItem","InputLabel","styled","css","CloseIcon","clsx","Formik","FormattedMessage","injectIntl","withSnackbar","PropTypes","UserMutations","useMutation","getMessage","ModalWrapper","div","ModalSlide","CloseButton","Title","h5","ModalHeader","ModalBody","FormActions","SubmitButton","button","props","isLoading","EditUserModal","open","onClose","intl","userData","updateUser","updateUserRes","title","submitButtonText","outline","values","errors","email","formatMessage","id","test","username","lastName","firstName","setStatus","setSubmitting","user","isVerified","userType","variables","status","touched","handleChange","handleBlur","handleSubmit","Boolean","width","loading","toString","propTypes","bool","isRequired","func","object"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Modal, Slide, IconButton, Button, TextField, Select, MenuItem, InputLabel } from '@material-ui/core';\nimport styled, { css } from 'styled-components';\nimport CloseIcon from '@material-ui/icons/Close';\nimport clsx from 'clsx';\nimport { Formik } from 'formik';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { withSnackbar } from 'notistack';\nimport PropTypes from 'prop-types';\nimport UserMutations from 'graphql/mutations/User/';\nimport { useMutation } from '@apollo/client';\nimport { getMessage } from 'utils/messageConvert';\n\nconst ModalWrapper = styled.div``;\n\nconst ModalSlide = styled(Slide)`\n\tmargin-left: auto;\n\theight: 100%;\n\tmin-width: 330px;\n\tmax-width: 600px;\n\tbackground-color: white;\n`;\n\nconst CloseButton = styled(IconButton)`\n\tposition: absolute !important;\n\ttop: 5px;\n\tright: 10px;\n`;\n\nconst Title = styled.h5`\n\tpadding-left: 50px;\n\tpadding-top: 50px;\n`;\n\nconst ModalHeader = styled.div`\n\tpadding: 0 !important;\n\tmin-height: 50px;\n\tborder: none !important;\n\tdisplay: flex;\n\talign-items: center;\n\tposition: relative;\n`;\n\nconst ModalBody = styled.div`\n\tpadding: 0 50px;\n\tpadding-top: 10px;\n`;\n\nconst FormActions = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tmargin-top: 10px;\n`;\n\nconst SubmitButton = styled.button`\n\t${props =>\n\t\tprops.isLoading === 'true' &&\n\t\tcss`\n\t\t\tpadding-right: 2.5rem;\n\t\t`};\n`;\n\nfunction EditUserModal(props) {\n\tconst { open, onClose, intl, userData, updateUser, updateUserRes } = props;\n\n\tlet title, submitButtonText;\n\n\tif (!userData) {\n\t\tonClose();\n\t}\n\n\ttitle = 'Edit user';\n\tsubmitButtonText = 'Submit';\n\treturn (\n\t\t<Modal\n\t\t\topen={open}\n\t\t\tonClose={onClose}\n\t\t\taria-labelledby=\"simple-modal-title\"\n\t\t\taria-describedby=\"simple-modal-description\"\n\t\t\tstyle={{ outline: 'none' }}\n\t\t>\n\t\t\t<ModalSlide direction=\"left\" in={open} mountOnEnter unmountOnExit>\n\t\t\t\t<ModalWrapper>\n\t\t\t\t\t<ModalHeader>\n\t\t\t\t\t\t<Title>{title}</Title>\n\t\t\t\t\t\t<CloseButton onClick={onClose}>\n\t\t\t\t\t\t\t<CloseIcon></CloseIcon>\n\t\t\t\t\t\t</CloseButton>\n\t\t\t\t\t</ModalHeader>\n\t\t\t\t\t<ModalBody>\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tinitialValues={userData}\n\t\t\t\t\t\t\tvalidate={values => {\n\t\t\t\t\t\t\t\tconst errors = {};\n\n\t\t\t\t\t\t\t\tif (!values.email) {\n\t\t\t\t\t\t\t\t\t// https://github.com/formatjs/react-intl/blob/master/docs/API.md#injection-api\n\t\t\t\t\t\t\t\t\terrors.email = intl.formatMessage({\n\t\t\t\t\t\t\t\t\t\tid: 'AUTH.VALIDATION.REQUIRED_FIELD',\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n\t\t\t\t\t\t\t\t\terrors.email = intl.formatMessage({\n\t\t\t\t\t\t\t\t\t\tid: 'AUTH.VALIDATION.INVALID_FIELD',\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (!values.username) {\n\t\t\t\t\t\t\t\t\terrors.username = intl.formatMessage({\n\t\t\t\t\t\t\t\t\t\tid: 'AUTH.VALIDATION.REQUIRED_FIELD',\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (!values.lastName) {\n\t\t\t\t\t\t\t\t\terrors.lastName = intl.formatMessage({\n\t\t\t\t\t\t\t\t\t\tid: 'AUTH.VALIDATION.REQUIRED_FIELD',\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (!values.firstName) {\n\t\t\t\t\t\t\t\t\terrors.firstName = intl.formatMessage({\n\t\t\t\t\t\t\t\t\t\tid: 'AUTH.VALIDATION.REQUIRED_FIELD',\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn errors;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonSubmit={(values, { setStatus, setSubmitting }) => {\n\t\t\t\t\t\t\t\tconst user = {\n\t\t\t\t\t\t\t\t\tid: values.id,\n\t\t\t\t\t\t\t\t\temail: values.email,\n\t\t\t\t\t\t\t\t\tusername: values.username,\n\t\t\t\t\t\t\t\t\tfirstName: values.firstName,\n\t\t\t\t\t\t\t\t\tlastName: values.lastName,\n\t\t\t\t\t\t\t\t\tisVerified: values.isVerified,\n\t\t\t\t\t\t\t\t\tuserType: values.userType,\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tupdateUser({\n\t\t\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\t\t\tuser: user,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{({ values, status, errors, touched, handleChange, handleBlur, handleSubmit }) => (\n\t\t\t\t\t\t\t\t<form noValidate={true} autoComplete=\"off\" className=\"kt-form\" onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"kt-width-full\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.email}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(touched.email && errors.email)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"kt-width-full\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.username}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.username && errors.username}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(touched.username && errors.username)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"First name\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"kt-width-full\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.firstName}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.firstName && errors.firstName}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(touched.firstName && errors.firstName)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Last name\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"kt-width-full\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.lastName}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.lastName && errors.lastName}\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(touched.lastName && errors.lastName)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Verified\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"isVerified\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.isVerified}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '47%' }}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={false}>FALSE</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={true}>TRUE</MenuItem>\n\t\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Role\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"userType\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.userType}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '47%' }}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mt-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"USER\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"ADMIN\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<FormActions>\n\t\t\t\t\t\t\t\t\t\t<SubmitButton\n\t\t\t\t\t\t\t\t\t\t\tid=\"kt_update_user_submit\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={updateUserRes.loading}\n\t\t\t\t\t\t\t\t\t\t\tisLoading={updateUserRes.loading.toString()}\n\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-primary mt-3 btn-elevate kt-login__btn-primary ${clsx({\n\t\t\t\t\t\t\t\t\t\t\t\t'kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light':\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateUserRes.loading,\n\t\t\t\t\t\t\t\t\t\t\t})}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{submitButtonText}\n\t\t\t\t\t\t\t\t\t\t</SubmitButton>\n\t\t\t\t\t\t\t\t\t</FormActions>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Formik>\n\t\t\t\t\t</ModalBody>\n\t\t\t\t</ModalWrapper>\n\t\t\t</ModalSlide>\n\t\t</Modal>\n\t);\n}\n\nEditUserModal.propTypes = {\n\topen: PropTypes.bool.isRequired,\n\t// Favorite: PropTypes.function.isRequired,\n\tonClose: PropTypes.func.isRequired,\n\tintl: PropTypes.object.isRequired,\n};\n\nexport default injectIntl(withSnackbar(EditUserModal));\n"]},"metadata":{},"sourceType":"module"}